/*
  * WiConnect Web App, WiConnect JS API Library & WiConnect JS Build System
  *
  * Copyright (C) 2015, Sensors.com, Inc.
  * All Rights Reserved.
  *
  * The WiConnect Web App, WiConnect JavaScript API and WiConnect JS build system
  * are provided free of charge by Sensors.com. The combined source code, and
  * all derivatives, are licensed by Sensors.com SOLELY for use with devices
  * manufactured by ACKme Networks, or approved by Sensors.com.
  *
  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS AND ANY EXPRESS OR IMPLIED
  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  * OF SUCH DAMAGE.
*/

@import "mixins.less";

.generate-delay(@n, @i: 1) when (@i =< @n) {
  &:nth-of-type(@{i}) {
    .animation-delay(@i * 40ms);
  }
  .generate-delay(@n, (@i + 1));
}

body .main>div {

  &.loader {
    position: fixed;
    display: block;
    left: 280px;
    background: rgba(255, 255, 255, 0.5);
    border: 1px solid rgba(255, 255, 255, 0); //iOS hack

    &.initial {
      left: 280px;
      position: fixed;
    }

    .loading {
      position: absolute;
      display: block;
      width: 85px;
      height: 85px;
      top: 50%;
      left: 50%;
      margin-top: -42.5px;
      margin-left: -42.5px;
      // .transform(skew(-5deg,-5deg) rotateY(20deg) rotateX(-15deg));

      .loading-circle {
        position: absolute;
        width: 18px;
        height: 18px;
        background-color: #fff;
        border: 2px solid #f05f22;
        border-radius: 12%;
        .animation(1750ms loading infinite);
        .transform(scale(0));

        .generate-delay(9);

        // &:nth-child(2n) {
        //   background-color: #5a5a5b;
        // }

        // &:last-child {
        //   background-color: #5a5a5b;
        // }

        &.loading-row1 {
          // top: 1.3px;

          &.up {
            top: -4px;
          }
        }

        &.loading-row2 {
          top: 18px;

          &.up {
            top: 12.65px;
          }
        }

        &.loading-row3 {
          top: 36px;

          &.down {
            top: 39.85px;
          }
        }

        &.loading-row4 {
          top: 54px;

          &.down {
            top: 56.5px;
          }
        }

        &.loading-col1 {
          left: 18px;

          &.down {
            left: 23.85px;
          }
        }

        &.loading-col2 {
          left: 36px;

          &.up, &.down {
            left: 40.5px;
          }
        }

        &.loading-col3 {
          left: 54px;

          &.up {
            left: 57.15px;
          }
        }
      }
    }
  }
}

@media(max-width: 768px){

  body .main>div {

    &.loader {
      position: fixed !important;
      left: 0;

      .loading {
        position: fixed !important;
      }
    }
  }
}

@-webkit-keyframes loading {
  0% {.transform(scale(0));}
  27.28% {.transform(scale(1));}
  36.36% {.transform(scale(0.86));}
  54.55% {.transform(scale(0.86));}
  63.64% {.transform(scale(0));}
  100% {.transform(scale(0));}
}

@-moz-keyframes loading {
  0% {.transform(scale(0));}
  27.28% {.transform(scale(1));}
  36.36% {.transform(scale(0.86));}
  54.55% {.transform(scale(0.86));}
  63.64% {.transform(scale(0));}
  100% {.transform(scale(0));}
}

@-o-keyframes loading {
  0% {.transform(scale(0));}
  27.28% {.transform(scale(1));}
  36.36% {.transform(scale(0.86));}
  54.55% {.transform(scale(0.86));}
  63.64% {.transform(scale(0));}
  100% {.transform(scale(0));}
}

@keyframes loading {
  0% {.transform(scale(0));}
  27.28% {.transform(scale(1));}
  36.36% {.transform(scale(0.86));}
  54.55% {.transform(scale(0.86));}
  63.64% {.transform(scale(0));}
  100% {.transform(scale(0));}
}
